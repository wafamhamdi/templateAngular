pipeline {
    agent {
        docker {
      image 'node:8.12.0'
        }
    }

    stages {
        stage('Install') {
      steps {
        sh 'rm -rf node_modules/* && npm cache clean --force'
        sh 'npm install --production'
      }
        }

        stage('Build Project') {
      steps {
        sh  '$(npm bin)/ng build --prod --output-path=docker/dist'
      }
        }
    }
}
